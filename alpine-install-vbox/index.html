<!DOCTYPE html>
<html>
 <head>
  <meta charset= "utf-8">
  <title> Instalación de Alpine Linux</title>
 </head>
 <body>

  <h1>Instalación de Alpine Linux nunha VM de VirtualBox</h1>
  <p style="font-size:125%;">A seguinte secuencia de capturas mostra a instalación de Alpine Linux 3.20 coas opcións que hai que seleccionar en cada paso. 
  <ol>
  <li><a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.2-x86_64.iso">Descarga desde aquí</a> a imaxe ISO para x86-64 da versión <i>Virtual</i> (optimizada para VM) do Alpine Linux 3.20.
    <p><b>NOTA:</b> se estiveses a usar un Macbook con procesador Apple M1-M4, terías que descargar a imaxe ISO para <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/aarch64/alpine-virt-3.20.2-aarch64.iso">ARM</a>.<p/>
  </li>

  <li>Inicia a VM que creaches no VirtualBox e, no diálogo que aparece para montar o DVD desde o que instalar o SO, selecciona a imaxe ISO descargada e reinicia a VM. Se che dera problemas accedendo á imaxe ISO, podes probar a apagar a VM, montar a imaxe ISO "manualmente" na unidade óptica da VM (propiedades de almacenamento da VM, véxase captura inferior), e iniciar de novo a VM.</li>
  <p><img src="Captura000.png" alt="Montaxe manual da ISO" style="width:1300px;"></p>

  <li>Se a VM se iniciou correctamente cargarase unha versión inicial mínima de Alpine. Para iniciar sesión usa o usuario <b>root</b> sen contrasinal.</li>
  <p><img src="Captura001.png" alt="Inicio de sesión" style="width:1000px;"></p>

  <li>Para configurar os aspectos básicos de Alpine executa o comando <b>setup-alpine -q</b>. Como de momento o teclado non está configurado na VM, para escribir os guións terás que premer a tecla que está situada <b>á dereita do 0</b> (é a tecla usada para o guión nos teclados americanos). Se ao premer esa tecla no teu teclado non aparece o guión, terás que probar con outras.</li>
  <p><img src="Captura002.png" alt="Comando setup-alpine -q" style="width:1000px"></p>

  <li>Configura o teclado. 
  <p>Na disposición (layout) escribe <b>es</b>.</p> 
  <p><img src="Captura003.png" alt="Configuración do teclado" style="width:1000px"></p>

  <p>Na variante depende do teclado que teñas (p.ex. <b>es-winkeys</b> para un teclado con teclas Windows). En caso de dúbida escribe de novo <b>es</b>.</li>
  <p><img src="Captura004.png" alt="Configuración do teclado" style="width:1000px"></p>

  <li>A configuración remata con opcións seleccionadas por defecto. Por exemplo, Alpine configura a única interface de rede que ten a VM para que obteña automaticamente unha IP cando se inicie. Esta interface correspóndese co único adaptador virtual de rede que temos na VM (podes comprobalo nas propiedades de rede da VM no VirtualBox). Para obter automaticamente a IP úsase un servizo denominado DHCP que xa ven preconfigurado co VirtualBox. Na captura pode verse como se lle asigna a IP 10.0.2.15 á VM usando DHCP. No teu caso, a IP asignada á túa VM podería ser diferente.</li>
  <p><img src="Captura005.png" alt="Nome do host" style="width:1000px;"></p>

  <li>Vamos a comprobar a configuración de rede da VM. Comproba que a interface de rede <b>eth0</b> ten unha dirección IP asignada executando o comando <b>ip address</b>. Logo executa o comando <b>ping</b> da figura para comprobar que a VM ten conectividade a Internet.
  <p><b>NOTA</b>: Se a VM non ten conectividade (o ping non obtén resposta), proba a executar de novo o comando <b>setup-alpine -q</b> para volver a configurar a rede.
  <p><img src="Captura006.png" alt="Configuración de rede" style="width:1000px;"></p>
  
  <li>Configura agora o contrasinal do usuario <b>root</b> (o administrador do sistema) executando o comando <b>passwd</b>.
  <p><b>Recoméndase usar "icap" (sen as aspas)</b>. Aínda que é un contrasinal moi curto e sinxelo, como xa se nos indica ao introducilo, válenos igualmente para o propósito desta práctica. Ten en conta que tes que introducilo <b>dúas veces</b>. Se decides usar outro contrasinal, <b>é moi importante que despois te lembres del</b>. Se obtés calquera erro neste paso 7, volve a executar o comando <b>passwd</b> para repetir o proceso.
  <p><b>IMPORTANTE: non uses caracteres "raros" para o contrasinal</b>, porque vamos ter que usalo nalgunha ocasión máis adiante co teclado aínda sen configurar. Se usas o guión lembra que cando o teclado non estea configurado terás que premer a tecla que está situada <b>á dereita do 0</b>.</p>
  <p><img src="Captura007.png" alt="Contrasinal de root" style="width:1000px;"></p>

  <li>Configura o disco e instala o sistema executando o comando <b>setup-disk</b>. 
  <p>Primeiro, acepta a opción por defecto para usar o único disco ríxido (<b>sda</b>) que temos na VM (podes comprobalo nas propiedades de almacenamento da VM no VirtualBox).</p></li>
  <p><img src="Captura008.png" alt="Configuración do disco" style="width:1000px;"></p>
  <p>No tipo de instalación escribe <b>sys</b> para realizar unha instalación estándar.</p>
  <img src="Captura009.png" alt="Particionamento do disco" style="width:1000px"></p>

  <p>Por último, escribe <b>y</b> para aceptar formatar o disco e instalar Alpine nel.
  <p><b>NOTA:</b> non te preocupes se che aparecen unhas mensaxes de advertencia en vermello neste paso (por exemplo: Partition#1 contains a ext4 signature). Non son erros, xa que depende de se é a primeira vez que estás facendo a instalación ou se estás repetindo o proceso (polo que as particións no disco xa existen e somos avisados diso). Se obtiveses outros erros, podes repetir este paso executando de novo o comando <b>setup-disk</b>.</li>
  <p><img src="Captura010.png" alt="Instalación do sistema" style="width:1000px;"></p>
 
  <li>Se todo foi ben, obterás unha mensaxe de que rematou a instalación.
  <p><img src="Captura011.png" alt="Rematou a instalación" style="width:1000px;"></p>
  <p>Apaga a VM executando o comando <b>poweroff</b></p></li>
  <p><img src="Captura012.png" alt="Apagar a VM" style="width:1000px;"></p>

  <li>Antes de continuar, desde a configuración de almacenamento da VM en VirtualBox, extrae a imaxe ISO de Alpine.</li> 
  <p><img src="Captura013.png" alt="Extraer a ISO" style="width:1000px"></p>

  </ol>
 </body>
</html>
